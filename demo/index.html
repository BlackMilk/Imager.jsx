<!DOCTYPE html>
<html>
<head lang="en">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Imager.jsx Demo</title>
  <link rel="stylesheet" href="../node_modules/imager.js/demos/default/Assets/Styles/base.css">
</head>
<body>
<main class="constrained-images">
  <div style="max-width: 400px;" class="container"></div>
  <div style="max-width: 800px;" class="container"></div>
</main>

<script src="../node_modules/react/dist/JSXTransformer.js"></script>
<script src="../dist/vendor.js"></script>
<script src="../dist/bundle.js"></script>
<script type="text/jsx">
  /** @jsx React.DOM */
  var React = require('react');
  var debounce = require('lodash.debounce');
  var Imager = imager.jsx;

  // Imager.js configuration
  var ResponsiveImage = Imager();

  // component rendering
  function renderImages(){
    var containers = document.querySelectorAll('.container');
    for (var i = 0; i < containers.length; i++){
      React.render(<ResponsiveImage src="http://placehold.it/{width}" alt="alternative text" />, containers[i]);
    }
  }

  window.addEventListener('load', renderImages);
  window.addEventListener('resize', debounce(renderImages, 100));
</script>
</body>
</html>